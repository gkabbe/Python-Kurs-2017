<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>6 - Übungen - 24.11.17 | Python Kurs 2017</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss.xml">
<link rel="canonical" href="https://gkabbe.github.io/Python-Kurs-2017/uebungen/exceptions_uebungen/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Gabriel Kabbe">
<link rel="prev" href="../module_exceptions_uebungen/" title="5 - Übungen - 17.11.17" type="text/html">
<meta property="og:site_name" content="Python Kurs 2017">
<meta property="og:title" content="6 - Übungen - 24.11.17">
<meta property="og:url" content="https://gkabbe.github.io/Python-Kurs-2017/uebungen/exceptions_uebungen/">
<meta property="og:description" content='Mit Fehlern umgehen lernen
Wichtige Lektionen fürs Leben und für Python
Auf Exceptions reagieren
Input - 1
Folgendes Programm ist gegeben:
while True:
    zahl1 = input("Bitte eine Zahl eingeben: ")
 '>
<meta property="og:type" content="article">
<meta property="article:published_time" content="2017-11-23T00:00:00+01:00">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Springe zum Hauptinhalt</a>

<!-- Menubar -->

<nav class="navbar navbar-toggleable-md navbar-inverse bg-inverse static-top mb-4"><div class="container">
<!-- This keeps the margins nice -->
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <a class="navbar-brand" href="https://gkabbe.github.io/Python-Kurs-2017/">

            <span id="blog-title">Python Kurs 2017</span>
        </a>

        <div class="collapse navbar-collapse" id="bs-navbar">
            <ul class="navbar-nav mr-auto">
<li class="nav-item">
<a href="../../verlaufsplan" class="nav-link">Verlaufsplan</a>
                </li>
<li class="nav-item">
<a href="../../vorlesungen" class="nav-link">Vorlesungen</a>
                </li>
<li class="nav-item">
<a href="../../uebungen" class="nav-link">Übungen</a>
                </li>
<li class="nav-item">
<a href="../../notebooks" class="nav-link">Notebooks</a>
                </li>
<li class="nav-item">
<a href="../../categories/" class="nav-link">Tags</a>
                </li>
<li class="nav-item">
<a href="../../rss.xml" class="nav-link">RSS-Feed</a>
                </li>
<li class="nav-item">
<a href="../../about" class="nav-link">Impressum</a>

                
            </li>
</ul>
<ul class="navbar-nav navbar-right">
<li class="nav-item">
    <a href="index.md" id="sourcelink" class="nav-link">Source</a>
    </li>

                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
        
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">6 - Übungen - 24.11.17</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                    Gabriel Kabbe
            </span></p>
            <p class="dateline"><a href="." rel="bookmark"><time class="published dt-published" datetime="2017-11-23T00:00:00+01:00" itemprop="datePublished" title="2017-11-23 00:00">2017-11-23 00:00</time></a></p>
            
        <p class="sourceline"><a href="index.md" id="sourcelink">Source</a></p>

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<h2>Mit Fehlern umgehen lernen</h2>
<p>Wichtige Lektionen fürs Leben und für Python</p>
<h3>Auf Exceptions reagieren</h3>
<h4>Input - 1</h4>
<p>Folgendes Programm ist gegeben:</p>
<pre class="code literal-block"><span></span><span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">zahl1</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">"Bitte eine Zahl eingeben: "</span><span class="p">)</span>
    <span class="n">zahl2</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">"Bitte noch eine Zahl eingeben: "</span><span class="p">)</span>

    <span class="k">print</span><span class="p">(</span><span class="s2">"Die Summe ist"</span><span class="p">,</span> <span class="nb">float</span><span class="p">(</span><span class="n">zahl1</span><span class="p">)</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="n">zahl2</span><span class="p">))</span>
</pre>


<p>Dieses Programm funktioniert problemlos, solange sich der User an die Regeln hält und Zahlen
eingibt. 
Was passiert aber wenn die Eingabe etwas anderes ist?</p>
<p>Um auf solche Probleme reagieren zu können, gibt es in Python sogenannte try-Except Blöcke.</p>
<p>Beispiel:</p>
<pre class="code literal-block"><span></span><span class="n">x</span> <span class="o">=</span> <span class="s2">"text"</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">zahl</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"Das war keine Zahl!"</span><span class="p">)</span>
</pre>


<p>Schreiben Sie das erste Programm so um, dass es nicht mit einem Fehler abbricht, sondern sich nur
beschwert, dass der Input des Users nicht korrekt war.</p>
<h4>Input - 2</h4>
<p>Dieses Programm ist ähnlich wie das erste, teilt aber die zwei Zahlen durcheinander:</p>
<pre class="code literal-block"><span></span><span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">zahl1</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">"Bitte eine Zahl eingeben: "</span><span class="p">)</span>
    <span class="n">zahl2</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">"Bitte noch eine Zahl eingeben: "</span><span class="p">)</span>

    <span class="k">print</span><span class="p">(</span><span class="s2">"Die Summe ist"</span><span class="p">,</span> <span class="nb">float</span><span class="p">(</span><span class="n">zahl1</span><span class="p">)</span> <span class="o">/</span> <span class="nb">float</span><span class="p">(</span><span class="n">zahl2</span><span class="p">))</span>
</pre>


<p>Gibt es eine Möglichkeit, das Programm zum Absturz zu bringen, auch wenn beide Inputs Zahlen sind?
Schreiben Sie es so um, dass es nicht mehr abstürzen kann.</p>
<h3>Eine Exception auslösen</h3>
<p>Wir hatten die Fakultätsfunktion folgendermaßen geschrieben:</p>
<pre class="code literal-block"><span></span><span class="k">def</span> <span class="nf">fak</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">n</span> <span class="o">*</span> <span class="n">fak</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
</pre>


<p>Sie funktioniert problemlos, solange der User ganze Zahlen größer gleich Null eingibt, bei negativen
Zahlen findet sie jedoch keinen Rekursionsanker und läuft daher immer weiter.</p>
<p>Mittels <code>raise ...</code> können Sie selbst in Ihrem Code eine Exception auslösen.</p>
<ul>
<li>
<p>Prüfen Sie, ob die Eingabe kleiner Null ist, und lösen Sie in diesem Fall einen ValueError aus!</p>
</li>
<li>
<p>Prüfen Sie auch, ob es sich um einen Integer handelt, und lösen Sie ebenfalls einen ValueError aus,
falls dies nicht der Fall ist.</p>
</li>
</ul>
<h3>json</h3>
<p>Mit json können Sie Datenstrukturen aus Python (Listen, Dictionaries, Listen von Dictionaries etc.)
in lesbarem Format in Dateien speichern, und daraus wieder lesen.</p>
<p>Speichern Sie die Datei https://raw.githubusercontent.com/gkabbe/Python-Kurs-2017/src/extras/studenten.json
auf Ihrem Rechner</p>
<p>Betrachten Sie sie mit einem Texteditor.</p>
<p>Folgendermaßen können Sie sie in Python einlesen:</p>
<pre class="code literal-block"><span></span><span class="kn">import</span> <span class="nn">json</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">"studenten.json"</span><span class="p">,</span> <span class="s2">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">studenten</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</pre>


<p>Analysieren Sie nun die Liste von Studenten.</p>
<ul>
<li>
<p>Schreiben Sie eine Funktion <code>durchschnitts_note</code>, die für einen Studenten seine Durchschnittsnote berechnet</p>
</li>
<li>
<p>Lassen Sie sich für die ersten drei Studenten ihre Durchschnittsnote berechnen</p>
</li>
<li>
<p>Lassen Sie sich nun den Studenten mit dem besten Durchschnitt und dem schlechtesten ausgeben.
  Das geht folgendermaßen: Sie können allen vergleichenden Funktionen (min, max, sorted, ...)
  Ein spezielles Keyword namens key mitgeben.
  Nehmen Sie als key Ihre Durchschnittsnoten-Funktion</p>
</li>
</ul>
<pre class="code literal-block"><span></span><span class="n">bester_student</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">studenten</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">durchschnitts_note</span><span class="p">)</span>
</pre>


<p>Die Funktion min nimmt in diesem Fall die Durchschnittsnote als Vergleichswert, um das Minimum
  zu bestimmen.</p>
<ul>
<li>
<p>Sortieren Sie nun die Liste der Studenten nach Durchschnittsnote</p>
</li>
<li>
<p>Schreiben Sie eine weitere Funktion, um mithilfe von key=... nach dem Nachnamen sortieren zu können</p>
</li>
<li>
<p>Kreieren Sie eine Liste aller Vornamen und eine Liste aller Nachnamen. Zählen Sie die Häufigkeit
  jedes Namens</p>
</li>
</ul>
<h3>Vom eigenen Skript importieren</h3>
<p><code>import</code> funktioniert nicht nur mit Modulen aus der Standardlibrary.
Sie können damit auch einfach eigene Objekte aus ihren eigenen Skripten laden.</p>
<ul>
<li>
<p>Schreiben Sie als erstes eine Python-Datei library.py, in der sie eine Funktion <code>meine_fkt</code> definieren 
  (was die macht, ist Ihnen überlassen)</p>
</li>
<li>
<p>Schreiben Sie dann eine zweite Datei <em>main.py</em> im selben Ordner wie library.py.
  Importieren Sie in dieser ihr libary.py Skript mit</p>
</li>
</ul>
<pre class="code literal-block"><span></span><span class="kn">import</span> <span class="nn">library</span>
</pre>


<ul>
<li>
<p>Versuchen Sie nun, Ihre Funktion aufzurufen</p>
</li>
<li>
<p>Schreiben Sie in library.py in eine Zeile (außerhalb der Funktion) einen print-Befehl. 
  Führen Sie nun nochmal main.py aus</p>
</li>
</ul>
<h2>Dictionaries</h2>
<h3>if-else</h3>
<p>Ihr Programmierkollege hat folgende Funktion geschrieben, die je nach User einen anderen String
zurückgibt:</p>
<pre class="code literal-block"><span></span><span class="k">def</span> <span class="nf">gib_user_etwas</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">"Müller"</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">"Gehaltsabrechnung"</span>
    <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">"Mayer"</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">"Steuerbescheid"</span>
    <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">"Schmidt"</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">"Abmahnung"</span>
    <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">"Huber"</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">"Gehaltserhöhung"</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">None</span>
</pre>


<p>Schreiben Sie die Funktion neu, sodass sie statt if-elif-else ein Dictionary benutzt.</p>
</div>
    </div>
    <aside class="postpromonav"><nav><ul class="pager hidden-print">
<li class="previous">
                <a href="../module_exceptions_uebungen/" rel="prev" title="5 - Übungen - 17.11.17">Vorheriger Eintrag</a>
            </li>
        </ul></nav></aside></article><!--End of body content--><footer id="footer">
            Contents © 2017         <a href="mailto:gabriel.kabbe@chemie.uni-halle.de">Gabriel Kabbe</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><script src="../../assets/js/colorbox-i18n/jquery.colorbox-de.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("de");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates -->
</body>
</html>
